{% extends "base.html" %}
{% block title %}Register a Teacher{% endblock title %}
{% block content %}
  {% if messages %}
    <div class="mb-3">
      {% for message in messages %}
        <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <form method="post">
    {% csrf_token %}
    <div class="card shadow-sm mb-4">
      <div class="card-header">
        <h1 class="h4 mb-0">Register a Teacher</h1>
        <div class="small text-body-secondary">
          Create a registration on behalf of a teacher who cannot self-register.
        </div>
      </div>
      <div class="card-body">
        <!-- Personal Information -->
        <h5 class="border-bottom pb-2 mb-3">Personal Information</h5>
        <div class="row g-3 mb-4">
          <div class="col-md-6">
            <label for="id_first_name" class="form-label">First Name <span class="text-danger">*</span></label>
            {{ form.first_name }}
            {% if form.first_name.errors %}
              <div class="invalid-feedback d-block">{{ form.first_name.errors.0 }}</div>
            {% endif %}
          </div>
          <div class="col-md-6">
            <label for="id_last_name" class="form-label">Last Name <span class="text-danger">*</span></label>
            {{ form.last_name }}
            {% if form.last_name.errors %}
              <div class="invalid-feedback d-block">{{ form.last_name.errors.0 }}</div>
            {% endif %}
          </div>
          <div class="col-md-6">
            <label for="id_email" class="form-label">Email (optional)</label>
            {{ form.email }}
            <div class="form-text">Leave blank if the teacher doesn't have an email address.</div>
            {% if form.email.errors %}
              <div class="invalid-feedback d-block">{{ form.email.errors.0 }}</div>
            {% endif %}
          </div>
          <div class="col-md-6">
            <label for="id_phone_number" class="form-label">Phone Number</label>
            {{ form.phone_number }}
          </div>
          <div class="col-md-4">
            <label for="id_date_of_birth" class="form-label">Date of Birth</label>
            {{ form.date_of_birth }}
          </div>
          <div class="col-md-4">
            <label for="id_gender" class="form-label">Gender</label>
            {{ form.gender }}
          </div>
          <div class="col-md-4">
            <label for="id_nationality" class="form-label">Nationality</label>
            {{ form.nationality }}
          </div>
          <div class="col-md-6">
            <label for="id_national_id_number" class="form-label">National ID Number</label>
            {{ form.national_id_number }}
          </div>
        </div>

        <!-- Address -->
        <h5 class="border-bottom pb-2 mb-3">Address</h5>
        <div class="row g-3 mb-4">
          <div class="col-12">
            <label for="id_address_line_1" class="form-label">Address Line 1</label>
            {{ form.address_line_1 }}
          </div>
          <div class="col-12">
            <label for="id_address_line_2" class="form-label">Address Line 2</label>
            {{ form.address_line_2 }}
          </div>
          <div class="col-md-6">
            <label for="id_city" class="form-label">City</label>
            {{ form.city }}
          </div>
          <div class="col-md-6">
            <label for="id_province" class="form-label">Province/State</label>
            {{ form.province }}
          </div>
        </div>

        <!-- Professional Information -->
        <h5 class="border-bottom pb-2 mb-3">Professional Information</h5>
        <div class="row g-3 mb-4">
          <div class="col-md-6">
            <label for="id_teaching_certificate_number" class="form-label">Teaching Certificate Number</label>
            {{ form.teaching_certificate_number }}
          </div>
          <div class="col-md-6">
            <label for="id_highest_qualification" class="form-label">Highest Qualification</label>
            {{ form.highest_qualification }}
          </div>
          <div class="col-md-4">
            <label for="id_years_of_experience" class="form-label">Years of Experience</label>
            {{ form.years_of_experience }}
          </div>
        </div>

        <!-- School Preference -->
        <h5 class="border-bottom pb-2 mb-3">School Preference</h5>
        <div class="row g-3 mb-4">
          <div class="col-md-6">
            <label for="id_preferred_school" class="form-label">Preferred School</label>
            {{ form.preferred_school }}
          </div>
          <div class="col-md-6">
            <label for="id_preferred_job_title" class="form-label">Preferred Position</label>
            {{ form.preferred_job_title }}
          </div>
        </div>
      </div>
      <div class="card-footer d-flex justify-content-between">
        <a href="{% url 'dashboard' %}" class="btn btn-outline-secondary">
          Cancel
        </a>
        <button type="submit" class="btn btn-primary">
          <i class="bi bi-person-plus me-1"></i> Create Registration
        </button>
      </div>
    </div>
  </form>
{% endblock content %}
